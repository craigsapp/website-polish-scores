{% comment %}
//
// Programmer:    Craig Stuart Sapp <craig@ccrma.stanford.edu>
// Creation Date: Fri Oct  8 23:56:37 PDT 2021
// Last Modified: Fri Oct  8 23:56:40 PDT 2021
// Filename:      _includes/browse/main.html
// Included in:   _includes/head/main.html
// Syntax:        ECMAScript 6; Jekyll/Liquid
// vim:           ts=3:nowrap
//
// Description:   This file collects all files in this directory into
//                a single file that is included in the head element
//                of the webpage.  Each javascript function is stored
//                in a separate file based on the name of the function.
//
{% endcomment %}

<script>

popc2.VARS.CGI = popc2.getCgiParameters();

let cgiSearch = false;
if (typeof popc2.VARS.CGI.century     !== "undefined") { cgiSearch = true; }
if (typeof popc2.VARS.CGI.composer    !== "undefined") { cgiSearch = true; }
if (typeof popc2.VARS.CGI.siglum      !== "undefined") { cgiSearch = true; }
if (typeof popc2.VARS.CGI.genre       !== "undefined") { cgiSearch = true; }
if (typeof popc2.VARS.CGI.nationality !== "undefined") { cgiSearch = true; }
if (typeof popc2.VARS.CGI.title       !== "undefined") { cgiSearch = true; }
if (typeof popc2.VARS.CGI.lyrics      !== "undefined") { cgiSearch = true; }

if (cgiSearch) {
	if (typeof popc2.VARS.CGI.century     !== "undefined") { popc2.VARS.SEARCH.century     = popc2.VARS.CGI.century;     }
	if (typeof popc2.VARS.CGI.composer    !== "undefined") { popc2.VARS.SEARCH.composer    = popc2.VARS.CGI.composer;    }
	if (typeof popc2.VARS.CGI.siglum      !== "undefined") { popc2.VARS.SEARCH.siglum      = popc2.VARS.CGI.siglum;      }
	if (typeof popc2.VARS.CGI.genre       !== "undefined") { popc2.VARS.SEARCH.genre       = popc2.VARS.CGI.genre;       }
	if (typeof popc2.VARS.CGI.nationality !== "undefined") { popc2.VARS.SEARCH.nationality = popc2.VARS.CGI.nationality; }
	if (typeof popc2.VARS.CGI.title       !== "undefined") { popc2.VARS.SEARCH.title       = popc2.VARS.CGI.title;       }
	if (typeof popc2.VARS.CGI.lyrics      !== "undefined") { popc2.VARS.SEARCH.lyrics      = popc2.VARS.CGI.lyrics;      }
} else if (localStorage.SEARCH) {
	popc2.VARS.SEARCH = JSON.parse(localStorage.SEARCH);
}

</script>


<script>

{% include browse/buildBrowseFilters.js            %}
{% include browse/buildCenturyFilter.js            %}
{% include browse/buildComposerFilter.js           %}
{% include browse/buildGenreFilter.js              %}
{% include browse/buildLyricsFilter.js             %}
{% include browse/buildNationalityFilter.js        %}
{% include browse/buildSiglumFilter.js             %}
{% include browse/buildTitleFilter.js              %}
{% include browse/copySearchLink.js                %}
{% include browse/displayBrowsePage.js             %}
{% include browse/displayBrowseTable.js            %}
{% include browse/displayComposerBrowsePortrait.js %}
{% include browse/doBrowseSearch.js                %}
{% include browse/filterByCentury.js               %}
{% include browse/filterByComposer.js              %}
{% include browse/filterByGenre.js                 %}
{% include browse/filterByLyrics.js                %}
{% include browse/filterByNationality.js           %}
{% include browse/filterBySiglum.js                %}
{% include browse/filterByTitle.js                 %}
{% include browse/getHighlightedString.js          %}
{% include browse/getMatchText.js                  %}
{% include browse/getShelfmarkContent.js           %}
{% include browse/makeComposerDates.js             %}
{% include browse/printHighlightedLyric.js         %}
{% include browse/printLyricsSearchResults.js      %}
{% include browse/resetBrowseSearchFields.js       %}
{% include browse/showResultsCount.js              %}
{% include browse/storeSearchInfo.js               %}

</script>



